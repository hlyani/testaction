
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Ceph 部署 · hl notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="hl">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="ceph_optimize.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../gitbook.html">
            
                <a href="../gitbook.html">
            
                    
                    GitBook 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../github_pages.html">
            
                <a href="../github_pages.html">
            
                    
                    GitHub Pages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../nativefier.html">
            
                <a href="../nativefier.html">
            
                    
                    Nativefier 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../ptp.html">
            
                <a href="../ptp.html">
            
                    
                    ptp 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../xenserver.html">
            
                <a href="../xenserver.html">
            
                    
                    xenserver 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../computer_network_foundation.html">
            
                <a href="../computer_network_foundation.html">
            
                    
                    计算机网络基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../ovirt.html">
            
                <a href="../ovirt.html">
            
                    
                    Ovirt 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../mqtt.html">
            
                <a href="../mqtt.html">
            
                    
                    MQTT 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../kafka.html">
            
                <a href="../kafka.html">
            
                    
                    Kafka 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../pyqt5.html">
            
                <a href="../pyqt5.html">
            
                    
                    PyQt5 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../ionic_cordova.html">
            
                <a href="../ionic_cordova.html">
            
                    
                    ionic 、cordova  编译 andriod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../cloudfoundry.html">
            
                <a href="../cloudfoundry.html">
            
                    
                    cloudfoundry 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../svn.html">
            
                <a href="../svn.html">
            
                    
                    svn 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../git.html">
            
                <a href="../git.html">
            
                    
                    git 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../anaconda.html">
            
                <a href="../anaconda.html">
            
                    
                    anaconda 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../jupyter.html">
            
                <a href="../jupyter.html">
            
                    
                    jupyter 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../webdriver.html">
            
                <a href="../webdriver.html">
            
                    
                    webdriver 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../go.html">
            
                <a href="../go.html">
            
                    
                    Go 语言相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../java.html">
            
                <a href="../java.html">
            
                    
                    Java 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../websocket.html">
            
                <a href="../websocket.html">
            
                    
                    websocket 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../stratos_ui.html">
            
                <a href="../stratos_ui.html">
            
                    
                    stratos-ui 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" >
            
                <span>
            
                    
                    Ceph 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.23.1" data-path="ceph_deploy.html">
            
                <a href="ceph_deploy.html">
            
                    
                    Ceph 部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.2" data-path="ceph_optimize.html">
            
                <a href="ceph_optimize.html">
            
                    
                    Ceph 调优
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.3" data-path="crushmap.html">
            
                <a href="crushmap.html">
            
                    
                    crushmap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.4" data-path="cephconf.html">
            
                <a href="cephconf.html">
            
                    
                    ceph.conf
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.24" >
            
                <span>
            
                    
                    Docker 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.24.1" data-path="../docker/usual_software.html">
            
                <a href="../docker/usual_software.html">
            
                    
                    常用软件安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.2" data-path="../docker/docker.html">
            
                <a href="../docker/docker.html">
            
                    
                    docker 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.3" data-path="../docker/docker_net.html">
            
                <a href="../docker/docker_net.html">
            
                    
                    docker 网络相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.4" data-path="../docker/k8s.html">
            
                <a href="../docker/k8s.html">
            
                    
                    k8s 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.5" data-path="../docker/docker_swarm.html">
            
                <a href="../docker/docker_swarm.html">
            
                    
                    docker swarm 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.6" data-path="../docker/docker_registry.html">
            
                <a href="../docker/docker_registry.html">
            
                    
                    docker registry 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.7" data-path="../docker/openshift.html">
            
                <a href="../docker/openshift.html">
            
                    
                    openshift 相关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.25" >
            
                <span>
            
                    
                    Linux 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.25.1" data-path="../linux/libvirt.html">
            
                <a href="../linux/libvirt.html">
            
                    
                    libvirt 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.2" data-path="../linux/linux.html">
            
                <a href="../linux/linux.html">
            
                    
                    Linux 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.3" data-path="../linux/change_centos_boot_kernel.html">
            
                <a href="../linux/change_centos_boot_kernel.html">
            
                    
                    CentOS 修改默认启动内核
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.4" data-path="../linux/vim.html">
            
                <a href="../linux/vim.html">
            
                    
                    Vim 常用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.5" data-path="../linux/lvm.html">
            
                <a href="../linux/lvm.html">
            
                    
                    LVM 逻辑卷相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.6" data-path="../linux/nested.html">
            
                <a href="../linux/nested.html">
            
                    
                    嵌套虚拟化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.7" data-path="../linux/net_bridge.html">
            
                <a href="../linux/net_bridge.html">
            
                    
                    创建网桥
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.8" data-path="../linux/nic_bond.html">
            
                <a href="../linux/nic_bond.html">
            
                    
                    网络端口聚合绑定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.9" data-path="../linux/ramdisk.html">
            
                <a href="../linux/ramdisk.html">
            
                    
                    虚拟内存盘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.10" data-path="../linux/ssh_interval.html">
            
                <a href="../linux/ssh_interval.html">
            
                    
                    ssh 自动断开
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.11" data-path="../linux/ssh_forwading.html">
            
                <a href="../linux/ssh_forwading.html">
            
                    
                    ssh 转发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.12" data-path="../linux/samba.html">
            
                <a href="../linux/samba.html">
            
                    
                    Samba 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.13" data-path="../linux/ftp.html">
            
                <a href="../linux/ftp.html">
            
                    
                    ftp 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.14" data-path="../linux/iscsi.html">
            
                <a href="../linux/iscsi.html">
            
                    
                    iscsi 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.15" data-path="../linux/guestfish.html">
            
                <a href="../linux/guestfish.html">
            
                    
                    guestfish 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.16" data-path="../linux/nginx.html">
            
                <a href="../linux/nginx.html">
            
                    
                    nginx 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.17" data-path="../linux/haproxy.html">
            
                <a href="../linux/haproxy.html">
            
                    
                    haproxy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.18" data-path="../linux/pip.html">
            
                <a href="../linux/pip.html">
            
                    
                    pip 源相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.19" data-path="../linux/build_pypi.html">
            
                <a href="../linux/build_pypi.html">
            
                    
                    发布pypi软件包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.20" data-path="../linux/mysql.html">
            
                <a href="../linux/mysql.html">
            
                    
                    mysql 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.21" data-path="../linux/nodejs.html">
            
                <a href="../linux/nodejs.html">
            
                    
                    nodejs 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.22" data-path="../linux/ssr_privoxy.html">
            
                <a href="../linux/ssr_privoxy.html">
            
                    
                    ssr privoxy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.23" data-path="../linux/proxychains_ng.html">
            
                <a href="../linux/proxychains_ng.html">
            
                    
                    proxychains-ng 代理工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.24" data-path="../linux/virt_manager.html">
            
                <a href="../linux/virt_manager.html">
            
                    
                    virt-manager 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.25" data-path="../linux/linux_source.html">
            
                <a href="../linux/linux_source.html">
            
                    
                    Linux 源制作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.26" data-path="../linux/rpm_build.html">
            
                <a href="../linux/rpm_build.html">
            
                    
                    Python rpm编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.27" data-path="../linux/yum_install_conf_conflict.html">
            
                <a href="../linux/yum_install_conf_conflict.html">
            
                    
                    yum 安装时文件冲突
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.28" data-path="../linux/crontabs.html">
            
                <a href="../linux/crontabs.html">
            
                    
                    crontabs 计划任务相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.29" data-path="../linux/diy_centos_iso.html">
            
                <a href="../linux/diy_centos_iso.html">
            
                    
                    CentOS iso 镜像定制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.30" data-path="../linux/ansible.html">
            
                <a href="../linux/ansible.html">
            
                    
                    ansible 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.31" data-path="../linux/cobbler.html">
            
                <a href="../linux/cobbler.html">
            
                    
                    cobbler 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.32" data-path="../linux/apache_multi_ports.html">
            
                <a href="../linux/apache_multi_ports.html">
            
                    
                    apache 多端口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.33" data-path="../linux/dns.html">
            
                <a href="../linux/dns.html">
            
                    
                    搭建本地 dns 服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.34" data-path="../linux/linux_u.html">
            
                <a href="../linux/linux_u.html">
            
                    
                    Linux U盘占用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.35" data-path="../linux/ssh.html">
            
                <a href="../linux/ssh.html">
            
                    
                    ssh 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.36" data-path="../linux/mdadm.html">
            
                <a href="../linux/mdadm.html">
            
                    
                    软 raid
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.26" >
            
                <span>
            
                    
                    OpenStack 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.26.1" data-path="../openstack/openstack.html">
            
                <a href="../openstack/openstack.html">
            
                    
                    OpenStack 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.2" data-path="../openstack/openstack_faq.html">
            
                <a href="../openstack/openstack_faq.html">
            
                    
                    OpenStack 中遇到的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.3" data-path="../openstack/delete_cinder_volume.html">
            
                <a href="../openstack/delete_cinder_volume.html">
            
                    
                    删除 Cinder 僵尸实例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.4" data-path="../openstack/add_nic_to_vm.html">
            
                <a href="../openstack/add_nic_to_vm.html">
            
                    
                    给虚拟机添加网卡
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.5" data-path="../openstack/make_openstack_image.html">
            
                <a href="../openstack/make_openstack_image.html">
            
                    
                    制作 OpenStack 镜像
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.6" data-path="../openstack/openstack_win_vm_diaplay.html">
            
                <a href="../openstack/openstack_win_vm_diaplay.html">
            
                    
                    OpenStack Windows 虚拟机分辨率问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.7" data-path="../openstack/kolla_network.html">
            
                <a href="../openstack/kolla_network.html">
            
                    
                    Kolla 网络规划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.8" data-path="../openstack/kolla_deploy.html">
            
                <a href="../openstack/kolla_deploy.html">
            
                    
                    Kolla 部署相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.9" data-path="../openstack/kolla_image_build.html">
            
                <a href="../openstack/kolla_image_build.html">
            
                    
                    Kolla 镜像构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.10" data-path="../openstack/devstack.html">
            
                <a href="../openstack/devstack.html">
            
                    
                    Devstack 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.11" data-path="../openstack/heat.html">
            
                <a href="../openstack/heat.html">
            
                    
                    Heat 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.12" data-path="../openstack/qga.html">
            
                <a href="../openstack/qga.html">
            
                    
                    qemu-guest-agent 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.13" data-path="../openstack/ovs.html">
            
                <a href="../openstack/ovs.html">
            
                    
                    OVS 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.14" data-path="../openstack/migrate_to_other_platform.html">
            
                <a href="../openstack/migrate_to_other_platform.html">
            
                    
                    迁移虚拟机到其他平台
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.27" >
            
                <span>
            
                    
                    Python 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.27.1" data-path="../python/xpath.html">
            
                <a href="../python/xpath.html">
            
                    
                    xpath 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.2" data-path="../python/regular_expression.html">
            
                <a href="../python/regular_expression.html">
            
                    
                    正则表达式相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.3" data-path="../python/django.html">
            
                <a href="../python/django.html">
            
                    
                    Django 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.4" data-path="../python/flask.html">
            
                <a href="../python/flask.html">
            
                    
                    Flask 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.5" data-path="../python/python.html">
            
                <a href="../python/python.html">
            
                    
                    Python 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.6" data-path="../python/python_obfuscated_code.html">
            
                <a href="../python/python_obfuscated_code.html">
            
                    
                    Python 代码混淆
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.7" data-path="../python/sqlalchemy.html">
            
                <a href="../python/sqlalchemy.html">
            
                    
                    Python Sqlalchemy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.8" data-path="../python/python_logging.html">
            
                <a href="../python/python_logging.html">
            
                    
                    Python logging模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.9" data-path="../python/python_decorators.html">
            
                <a href="../python/python_decorators.html">
            
                    
                    Python 装饰器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.10" data-path="../python/python_file.html">
            
                <a href="../python/python_file.html">
            
                    
                    Python 文件操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.11" data-path="../python/scrapy.html">
            
                <a href="../python/scrapy.html">
            
                    
                    scrapy 爬虫
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.12" data-path="../python/urllib2.html">
            
                <a href="../python/urllib2.html">
            
                    
                    urllib2 爬虫
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.13" data-path="../python/yield.html">
            
                <a href="../python/yield.html">
            
                    
                    yield
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.28" >
            
                <span>
            
                    
                    Web 前端
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.28.1" data-path="../web/web.html">
            
                <a href="../web/web.html">
            
                    
                    Web 相关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.29" >
            
                <span>
            
                    
                    大数据相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.29.1" data-path="../bigdata/bigdata_deploy.html">
            
                <a href="../bigdata/bigdata_deploy.html">
            
                    
                    大数据相关环境安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.2" data-path="../bigdata/hadoop.html">
            
                <a href="../bigdata/hadoop.html">
            
                    
                    Hadoop 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.3" data-path="../bigdata/hadoop_single.html">
            
                <a href="../bigdata/hadoop_single.html">
            
                    
                    Hadoop 单机伪分布式部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.4" data-path="../bigdata/hadoop_cluster.html">
            
                <a href="../bigdata/hadoop_cluster.html">
            
                    
                    Hadoop 集群搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.5" data-path="../bigdata/hive.html">
            
                <a href="../bigdata/hive.html">
            
                    
                    Hive 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.6" data-path="../bigdata/hbase.html">
            
                <a href="../bigdata/hbase.html">
            
                    
                    Hbase 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.7" data-path="../bigdata/spark.html">
            
                <a href="../bigdata/spark.html">
            
                    
                    spark 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.8" data-path="../bigdata/spark_sql.html">
            
                <a href="../bigdata/spark_sql.html">
            
                    
                    spark sql 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.9" data-path="../bigdata/storm.html">
            
                <a href="../bigdata/storm.html">
            
                    
                    storm 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.10" data-path="../bigdata/scala.html">
            
                <a href="../bigdata/scala.html">
            
                    
                    scala 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.11" data-path="../bigdata/sqoop.html">
            
                <a href="../bigdata/sqoop.html">
            
                    
                    sqoop 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.12" data-path="../bigdata/flink.html">
            
                <a href="../bigdata/flink.html">
            
                    
                    flink 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.13" data-path="../bigdata/flume.html">
            
                <a href="../bigdata/flume.html">
            
                    
                    flume 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.14" data-path="../bigdata/elasticsearch.html">
            
                <a href="../bigdata/elasticsearch.html">
            
                    
                    elasticsearch 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.15" data-path="../bigdata/etl.html">
            
                <a href="../bigdata/etl.html">
            
                    
                    ETL 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.16" data-path="../bigdata/mapreduce.html">
            
                <a href="../bigdata/mapreduce.html">
            
                    
                    mapreduce 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.17" data-path="../bigdata/numpy.html">
            
                <a href="../bigdata/numpy.html">
            
                    
                    numpy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.18" data-path="../bigdata/pandas.html">
            
                <a href="../bigdata/pandas.html">
            
                    
                    pandas 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.19" data-path="../bigdata/pyhdfs.html">
            
                <a href="../bigdata/pyhdfs.html">
            
                    
                    pyhdfs 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.20" data-path="../bigdata/reptile.html">
            
                <a href="../bigdata/reptile.html">
            
                    
                    reptile 爬虫相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.21" data-path="../bigdata/pyecharts.html">
            
                <a href="../bigdata/pyecharts.html">
            
                    
                    pyecharts 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.22" data-path="../bigdata/matplotlib.html">
            
                <a href="../bigdata/matplotlib.html">
            
                    
                    matplotlib 相关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.30" >
            
                <span>
            
                    
                    机器学习相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.30.1" data-path="../machinelearning/tensorflow_and_keras.html">
            
                <a href="../machinelearning/tensorflow_and_keras.html">
            
                    
                    tensorflow 和 keras 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.2" data-path="../machinelearning/cifar_10.html">
            
                <a href="../machinelearning/cifar_10.html">
            
                    
                    cifar-10 相关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Ceph 部署</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="ceph-&#x90E8;&#x7F72;">Ceph &#x90E8;&#x7F72;</h1>
<h2 id="&#x4E00;&#x3001;ceph-deploy-&#x90E8;&#x7F72;ceph">&#x4E00;&#x3001;ceph deploy &#x90E8;&#x7F72;ceph</h2>
<h5 id="1&#x3001;&#x6DFB;&#x52A0;releasekey">1&#x3001;&#x6DFB;&#x52A0;release.key</h5>
<pre><code>apt-get update &amp;&amp; apt-get -y upgrade

wget -q -O- &apos;https://download.ceph.com/keys/autobuild.asc&apos; | apt-key add -
</code></pre><h5 id="2&#x3001;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7684;&#x53D1;&#x884C;&#x7248;&#x672C;&#x4FE1;&#x606F;">2&#x3001;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7684;&#x53D1;&#x884C;&#x7248;&#x672C;&#x4FE1;&#x606F;</h5>
<pre><code>lsb_release -sc
</code></pre><h5 id="3&#x3001;&#x6DFB;&#x52A0;ceph&#x8F6F;&#x4EF6;&#x5305;&#x6E90;&#xFF0C;&#x7528;ceph&#x7A33;&#x5B9A;&#x7248;&#xFF08;&#x5982;cuttlefish&#x3001;dumpling&#x3001;emperor&#x3001;firefly&#x3001;hammer&#x3001;jewel&#x7B49;&#xFF09;&#x66FF;&#x6362;&#x6389;jewel">3&#x3001;&#x6DFB;&#x52A0;Ceph&#x8F6F;&#x4EF6;&#x5305;&#x6E90;&#xFF0C;&#x7528;Ceph&#x7A33;&#x5B9A;&#x7248;&#xFF08;&#x5982;cuttlefish&#x3001;dumpling&#x3001;emperor&#x3001;firefly&#x3001;hammer&#x3001;jewel&#x7B49;&#xFF09;&#x66FF;&#x6362;&#x6389;jewel</h5>
<pre><code>echo deb http://mirrors.aliyun.com/ceph/debian-jewel/ $(lsb_release -sc) main | tee /etc/apt/sources.list.d/ceph.list

apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E84AC2C0460F3994
</code></pre><h5 id="4&#x3001;&#x66F4;&#x65B0;&#x6E90;&#x4ED3;&#x5E93;&#x5E76;&#x5B89;&#x88C5;ceph">4&#x3001;&#x66F4;&#x65B0;&#x6E90;&#x4ED3;&#x5E93;&#x5E76;&#x5B89;&#x88C5;Ceph</h5>
<pre><code>apt-get update &amp;&amp; apt-get -y install ceph-deploy
</code></pre><h5 id="5&#x3001;&#x5C06;ceph-deploy&#x6E90;&#x6362;&#x4E3A;&#x56FD;&#x5185;&#x6E90;">5&#x3001;&#x5C06;ceph deploy&#x6E90;&#x6362;&#x4E3A;&#x56FD;&#x5185;&#x6E90;</h5>
<pre><code>vim /usr/lib/python2.7/dist-packages/ceph_deploy/hosts/debian/install.py

sed -i &apos;s/{protocol}:\/\/download.ceph.com/http:\/\/mirrors.aliyun.com\/ceph/g&apos; /usr/lib/python2.7/dist-packages/ceph_deploy/hosts/debian/install.py
sed -i &apos;s/{protocol}:\/\/download.ceph.com/http:\/\/mirrors.aliyun.com\/ceph/g&apos; /usr/lib/python2.7/dist-packages/ceph_deploy/hosts/debian/install.py
sed -i &apos;s/download.ceph.com/mirrors.tuna.tsinghua.edu.cn\/ceph/g&apos; /usr/lib/python2.7/dist-packages/ceph_deploy/util/constants.py
</code></pre><h5 id="6&#x3001;&#x5B89;&#x88C5;ntp&#xFF08;&#x4EE5;&#x514D;&#x56E0;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x5BFC;&#x81F4;&#x6545;&#x969C;&#xFF09;">6&#x3001;&#x5B89;&#x88C5;NTP&#xFF08;&#x4EE5;&#x514D;&#x56E0;&#x65F6;&#x949F;&#x6F02;&#x79FB;&#x5BFC;&#x81F4;&#x6545;&#x969C;&#xFF09;</h5>
<pre><code>apt-get -y install ntp
</code></pre><h5 id="7&#x3001;&#x5B89;&#x88C5;-ssh-&#x670D;&#x52A1;&#x5668;">7&#x3001;&#x5B89;&#x88C5; SSH &#x670D;&#x52A1;&#x5668;</h5>
<pre><code>apt-get -y install openssh-server
</code></pre><h5 id="8&#x3001;&#x914D;&#x7F6E;hosts">8&#x3001;&#x914D;&#x7F6E;hosts</h5>
<pre><code>echo &quot;
172.18.20.181 ceph-node1
172.18.20.182 ceph-node2
172.18.20.183 ceph-node3&quot; | tee &gt;&gt; /etc/hosts
</code></pre><h5 id="9&#x3001;&#x521B;&#x5EFA;&#x90E8;&#x7F72;-ceph-&#x7684;&#x7528;&#x6237;&#xFF08;&#x53EF;&#x4E0D;&#x7528;&#xFF09;">9&#x3001;&#x521B;&#x5EFA;&#x90E8;&#x7F72; CEPH &#x7684;&#x7528;&#x6237;&#xFF08;&#x53EF;&#x4E0D;&#x7528;&#xFF09;</h5>
<pre><code>1&#x3001;&#x5728;&#x5404; Ceph &#x8282;&#x70B9;&#x521B;&#x5EFA;&#x65B0;&#x7528;&#x6237;&#x3002;
useradd -d /home/myCeph -m myCeph
passwd myCeph
2&#x3001;&#x786E;&#x4FDD;&#x5404; Ceph &#x8282;&#x70B9;&#x4E0A;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x7528;&#x6237;&#x90FD;&#x6709; sudo &#x6743;&#x9650;&#x3002;
echo &quot;myCeph ALL = (root) NOPASSWD:ALL&quot; | sudo tee /etc/sudoers.d/myCeph
chmod 0440 /etc/sudoers.d/myCeph
</code></pre><h5 id="10&#x3001;&#x5141;&#x8BB8;&#x65E0;&#x5BC6;&#x7801;-ssh-&#x767B;&#x5F55;">10&#x3001;&#x5141;&#x8BB8;&#x65E0;&#x5BC6;&#x7801; SSH &#x767B;&#x5F55;</h5>
<pre><code>1&#x3001;&#x751F;&#x6210; SSH &#x5BC6;&#x94A5;&#x5BF9;&#xFF0C;&#x4F46;&#x4E0D;&#x8981;&#x7528; sudo &#x6216; root &#x7528;&#x6237;&#x3002;&#x63D0;&#x793A; &#x201C;Enter passphrase&#x201D; &#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x56DE;&#x8F66;&#xFF0C;&#x53E3;&#x4EE4;&#x5373;&#x4E3A;&#x7A7A;&#xFF1A;
ssh-keygen
2&#x3001;&#x628A;&#x516C;&#x94A5;&#x62F7;&#x8D1D;&#x5230;&#x5404; Ceph &#x8282;&#x70B9;&#xFF0C;&#x628A;&#x4E0B;&#x5217;&#x547D;&#x4EE4;&#x4E2D;&#x7684; myCeph &#x66FF;&#x6362;&#x6210;&#x524D;&#x9762;&#x521B;&#x5EFA;&#x90E8;&#x7F72; Ceph &#x7684;&#x7528;&#x6237;&#x91CC;&#x7684;&#x7528;&#x6237;&#x540D;&#x3002;
ssh-copy-id myCeph@node1
3&#x3001;&#xFF08;&#x63A8;&#x8350;&#x505A;&#x6CD5;&#xFF09;&#x4FEE;&#x6539; ceph-deploy &#x7BA1;&#x7406;&#x8282;&#x70B9;&#x4E0A;&#x7684; ~/.ssh/config &#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x6837; ceph-deploy &#x5C31;&#x80FD;&#x7528;&#x4F60;&#x6240;&#x5EFA;&#x7684;&#x7528;&#x6237;&#x540D;&#x767B;&#x5F55; Ceph &#x8282;&#x70B9;&#x4E86;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x6BCF;&#x6B21;&#x6267;&#x884C; ceph-deploy &#x90FD;&#x8981;&#x6307;&#x5B9A; --username {username} &#x3002;&#x8FD9;&#x6837;&#x505A;&#x540C;&#x65F6;&#x4E5F;&#x7B80;&#x5316;&#x4E86; ssh &#x548C; scp &#x7684;&#x7528;&#x6CD5;&#x3002;&#x628A; {username} &#x66FF;&#x6362;&#x6210;&#x4F60;&#x521B;&#x5EFA;&#x7684;&#x7528;&#x6237;&#x540D;&#x3002;

Host node1
   Hostname node1
   User myCeph

ssh-copy-id ceph-node1
</code></pre><h5 id="11&#x3001;&#x5B89;&#x88C5;ceph">11&#x3001;&#x5B89;&#x88C5;Ceph</h5>
<pre><code>ceph-deploy install controller compute{2,3,4,5,6,7,8}
</code></pre><h5 id="12&#x3001;&#x521B;&#x5EFA;&#x96C6;&#x7FA4;">12&#x3001;&#x521B;&#x5EFA;&#x96C6;&#x7FA4;</h5>
<pre><code>ceph-deploy new controller compute{2,3,4,5}
</code></pre><h5 id="13&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-&#xFF0C;&#x628A;&#x4E0B;&#x9762;&#x8FD9;&#x884C;&#x52A0;&#x5165;-global-&#x6BB5;&#xFF1A;">13&#x3001;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#xFF0C;&#x628A;&#x4E0B;&#x9762;&#x8FD9;&#x884C;&#x52A0;&#x5165; [global] &#x6BB5;&#xFF1A;</h5>
<pre><code>echo &quot;osd crush chooseleaf type = 0&quot; &gt;&gt; ceph.conf
        echo &quot;osd pool default size = 1&quot; &gt;&gt; ceph.conf
        echo &quot;osd journal size = 100&quot; &gt;&gt; ceph.conf
</code></pre><h5 id="14&#x3001;&#x914D;&#x7F6E;&#x521D;&#x59CB;monitors&#x3001;&#x5E76;&#x6536;&#x96C6;&#x6240;&#x6709;&#x79D8;&#x94A5;&#xFF1A;">14&#x3001;&#x914D;&#x7F6E;&#x521D;&#x59CB;monitor(s)&#x3001;&#x5E76;&#x6536;&#x96C6;&#x6240;&#x6709;&#x79D8;&#x94A5;&#xFF1A;</h5>
<pre><code>#ceph-deploy mon create-initial

ceph-deploy mon create controller compute{2,3,4,5}

ceph-deploy gatherkeys controller compute{2,3,4,5}
</code></pre><h5 id="15&#x3001;&#x64E6;&#x51C0;&#x78C1;&#x76D8;">15&#x3001;&#x64E6;&#x51C0;&#x78C1;&#x76D8;</h5>
<pre><code>ceph-deploy disk zap controller:sd{b,c,d,e} compute2:sd{b,c,d} compute{3,4,5,6,7,8}:sd{b,c,d,e}
</code></pre><h5 id="16&#x3001;&#x51C6;&#x5907;&#x78C1;&#x76D8;">16&#x3001;&#x51C6;&#x5907;&#x78C1;&#x76D8;</h5>
<pre><code>ceph-deploy osd prepare controller:sd{b,c,d,e} compute2:sd{b,c,d} compute{3,4,5,6,7,8}:sd{b,c,d,e}

ceph-deploy osd prepare ceph-node1:xvdb ceph-node1:xvdc ceph-node1:xvde ceph-node2:xvdb ceph-node2:xvdc ceph-node2:xvde ceph-node3:xvdb ceph-node3:xvdc ceph-node3:xvde
</code></pre><h5 id="17&#x3001;&#x6FC0;&#x6D3B;&#x78C1;&#x76D8;">17&#x3001;&#x6FC0;&#x6D3B;&#x78C1;&#x76D8;</h5>
<pre><code>ceph-deploy osd activate controller:sd{b1,c1,d1,e1} compute2:sd{b1,c1,d1} compute{3,4,5,6,7,8}:sd{b1,c1,d1,e1}
</code></pre><h5 id="18&#x3001;&#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5230;&#x6240;&#x6709;&#x8282;&#x70B9;&#xFF0C;&#x7528;ceph-deploy-&#x628A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x548C;-admin-&#x5BC6;&#x94A5;&#x62F7;&#x8D1D;&#x5230;&#x7BA1;&#x7406;&#x8282;&#x70B9;&#x548C;-ceph-&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x6B21;&#x6267;&#x884C;-ceph-&#x547D;&#x4EE4;&#x884C;&#x65F6;&#x5C31;&#x65E0;&#x9700;&#x6307;&#x5B9A;-monitor-&#x5730;&#x5740;&#x548C;-cephclientadminkeyring-&#x4E86;&#x3002;">18&#x3001;&#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5230;&#x6240;&#x6709;&#x8282;&#x70B9;&#xFF0C;&#x7528;ceph-deploy &#x628A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x548C; admin &#x5BC6;&#x94A5;&#x62F7;&#x8D1D;&#x5230;&#x7BA1;&#x7406;&#x8282;&#x70B9;&#x548C; Ceph &#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x6B21;&#x6267;&#x884C; Ceph &#x547D;&#x4EE4;&#x884C;&#x65F6;&#x5C31;&#x65E0;&#x9700;&#x6307;&#x5B9A; monitor &#x5730;&#x5740;&#x548C; ceph.client.admin.keyring &#x4E86;&#x3002;</h5>
<pre><code>ceph-deploy admin node1

ceph-deploy --overwrite-conf admin ceph-node1 ceph-node2 ceph-node3
</code></pre><h5 id="19&#x3001;&#x786E;&#x4FDD;&#x4F60;&#x5BF9;-cephclientadminkeyring-&#x6709;&#x6B63;&#x786E;&#x7684;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x3002;">19&#x3001;&#x786E;&#x4FDD;&#x4F60;&#x5BF9; ceph.client.admin.keyring &#x6709;&#x6B63;&#x786E;&#x7684;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x3002;</h5>
<pre><code>chmod +r /etc/ceph/ceph.client.admin.keyring
</code></pre><h5 id="20&#x3001;&#x68C0;&#x67E5;&#x96C6;&#x7FA4;&#x7684;&#x5065;&#x5EB7;&#x72B6;&#x51B5;">20&#x3001;&#x68C0;&#x67E5;&#x96C6;&#x7FA4;&#x7684;&#x5065;&#x5EB7;&#x72B6;&#x51B5;</h5>
<pre><code>ceph health
ceph -s
ceph osd tree
</code></pre><h5 id="21&#x3001;&#x6E05;&#x9664;&#x90E8;&#x7F72;">21&#x3001;&#x6E05;&#x9664;&#x90E8;&#x7F72;</h5>
<pre><code>ceph-deploy purge ceph-node1 ceph-node2 ceph-node3
ceph-deploy purgedata ceph-node1 ceph-node2 ceph-node3
ceph-deploy forgetkeys

ceph osd pool delete rbd rbd --yes-i-really-really-mean-it
</code></pre><h5 id="22&#x3001;&#x4FEE;&#x6539;crushmap">22&#x3001;&#x4FEE;&#x6539;crushmap</h5>
<pre><code>1&#x3001;&#x83B7;&#x5F97; crush map&#xFF0C;&#x83B7;&#x5F97;&#x9ED8;&#x8BA4; crushmap (&#x52A0;&#x5BC6;)
ceph osd getcrushmap -o crushmap.dump
2&#x3001;&#x8F6C;&#x6362; crushmap &#x683C;&#x5F0F; (&#x52A0;&#x5BC6; -&gt; &#x660E;&#x6587;&#x683C;&#x5F0F;)
crushtool -d crushmap.dump -o crushmap.txt
3&#x3001;&#x8F6C;&#x6362; crushmap &#x683C;&#x5F0F;(&#x660E;&#x6587; -&gt; &#x52A0;&#x5BC6;&#x683C;&#x5F0F;)
crushtool -c crushmap.txt -o crushmap.done
4&#x3001;&#x91CD;&#x65B0;&#x4F7F;&#x7528;&#x65B0; crushmap
ceph osd setcrushmap -i crushmap.done
</code></pre><h2 id="&#x4E8C;&#x3001;&#x5C06;ceph&#x914D;&#x7F6E;&#x6587;openstack&#x7684;&#x540E;&#x7AEF;&#x914D;&#x7F6E;">&#x4E8C;&#x3001;&#x5C06;ceph&#x914D;&#x7F6E;&#x6587;openstack&#x7684;&#x540E;&#x7AEF;&#x914D;&#x7F6E;</h2>
<h5 id="1&#x3001;&#x521B;&#x5EFA;pool&#xFF0C;&#x521D;&#x59CB;&#x5316;pool&#x3002;">1&#x3001;&#x521B;&#x5EFA;pool&#xFF0C;&#x521D;&#x59CB;&#x5316;pool&#x3002;</h5>
<pre><code>ceph osd pool create volumes 128
ceph osd pool create images 128
ceph osd pool create backups 128
ceph osd pool create vms 128

rbd pool init volumes
rbd pool init images
rbd pool init backups
rbd pool init vms
</code></pre><h5 id="2&#x3001;&#x5728;glance-api&#x8282;&#x70B9;&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5305;&#x3002;">2&#x3001;&#x5728;glance-api&#x8282;&#x70B9;&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5305;&#x3002;</h5>
<pre><code>apt-get -y install python-rbd
yum -y install python-rbd
</code></pre><h5 id="3&#x3001;&#x5728;nova-compute-cinder-backupcinder-volume&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5305;&#x3002;">3&#x3001;&#x5728;nova-compute, cinder-backup,cinder-volume&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5305;&#x3002;</h5>
<pre><code>apt-get -y install ceph-common
yum -y install ceph-common
</code></pre><h5 id="4&#x3001;&#x5982;&#x679C;&#x5F00;&#x542F;&#x4E86;-cephx-authentication-&#x9700;&#x8981;&#x4E3A;nova&#x3001;cinder&#x3001;glance&#x521B;&#x5EFA;&#x65B0;&#x7528;&#x6237;&#x3002;">4&#x3001;&#x5982;&#x679C;&#x5F00;&#x542F;&#x4E86; cephx authentication, &#x9700;&#x8981;&#x4E3A;nova&#x3001;cinder&#x3001;glance&#x521B;&#x5EFA;&#x65B0;&#x7528;&#x6237;&#x3002;</h5>
<pre><code>#ceph auth get-or-create client.glance mon &apos;allow r&apos; osd &apos;allow class-read object_prefix rbd_children, allow rwx pool=images, allow rwx pool=images.cache&apos;

ceph auth get-or-create client.glance mon &apos;profile rbd&apos; osd &apos;profile rbd pool=images&apos;

ceph auth get-or-create client.cinder mon &apos;profile rbd&apos; osd &apos;profile rbd pool=volumes, profile rbd pool=vms, profile rbd-read-only pool=images&apos;

ceph auth get-or-create client.cinder-backup mon &apos;profile rbd&apos; osd &apos;profile rbd pool=backups&apos;
</code></pre><h5 id="5&#x3001;&#x4E3A;&#x76F8;&#x5E94;&#x8282;&#x70B9;&#x7684;clientcinder-clientglance-clientcinder-backup&#x6DFB;&#x52A0;keyrings&#xFF0C;&#x6539;&#x53D8;&#x5B83;&#x4EEC;&#x7684;&#x6240;&#x6709;&#x6743;&#x3002;">5&#x3001;&#x4E3A;&#x76F8;&#x5E94;&#x8282;&#x70B9;&#x7684;client.cinder, client.glance, client.cinder-backup&#x6DFB;&#x52A0;keyrings&#xFF0C;&#x6539;&#x53D8;&#x5B83;&#x4EEC;&#x7684;&#x6240;&#x6709;&#x6743;&#x3002;</h5>
<pre><code>ceph auth get-or-create client.glance | ssh {your-glance-api-server} tee /etc/ceph/ceph.client.glance.keyring
ssh {your-glance-api-server} chown glance:glance /etc/ceph/ceph.client.glance.keyring
ceph auth get-or-create client.cinder | ssh {your-volume-server} tee /etc/ceph/ceph.client.cinder.keyring
ssh {your-cinder-volume-server} chown cinder:cinder /etc/ceph/ceph.client.cinder.keyring
ceph auth get-or-create client.cinder-backup | ssh {your-cinder-backup-server} tee /etc/ceph/ceph.client.cinder-backup.keyring
ssh {your-cinder-backup-server} chown cinder:cinder /etc/ceph/ceph.client.cinder-backup.keyring
</code></pre><h5 id="6&#x3001;&#x8FD0;&#x884C;&#x4E86;nova-compute&#x7684;&#x8282;&#x70B9;&#x9700;&#x8981;keyring&#x6587;&#x4EF6;&#x3002;">6&#x3001;&#x8FD0;&#x884C;&#x4E86;nova-compute&#x7684;&#x8282;&#x70B9;&#x9700;&#x8981;keyring&#x6587;&#x4EF6;&#x3002;</h5>
<pre><code>ceph auth get-or-create client.cinder | ssh {your-nova-compute-server} tee /etc/ceph/ceph.client.cinder.keyring
</code></pre><h5 id="7&#x3001;&#x9700;&#x8981;&#x5C06;clientcinder&#x7528;&#x6237;&#x7684;&#x79D8;&#x94A5;&#x914D;&#x7F6E;&#x5230;libvirt&#x4E2D;&#xFF0C;libvirt&#x8FDB;&#x7A0B;&#x4ECE;cinder&#x6302;&#x8F7D;&#x5757;&#x8BBE;&#x5907;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6709;&#x6743;&#x9650;&#x8BBF;&#x95EE;ceph&#x96C6;&#x7FA4;&#x3002;&#x83B7;&#x53D6;&#x5E76;&#x62F7;&#x8D1D;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x7684;secret-key&#x5230;&#x6240;&#x6709;&#x8FD0;&#x884C;&#x7684;nova-compute&#x8282;&#x70B9;&#x3002;">7&#x3001;&#x9700;&#x8981;&#x5C06;client.cinder&#x7528;&#x6237;&#x7684;&#x79D8;&#x94A5;&#x914D;&#x7F6E;&#x5230;libvirt&#x4E2D;&#xFF0C;libvirt&#x8FDB;&#x7A0B;&#x4ECE;cinder&#x6302;&#x8F7D;&#x5757;&#x8BBE;&#x5907;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6709;&#x6743;&#x9650;&#x8BBF;&#x95EE;ceph&#x96C6;&#x7FA4;&#x3002;&#x83B7;&#x53D6;&#x5E76;&#x62F7;&#x8D1D;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x7684;secret key&#x5230;&#x6240;&#x6709;&#x8FD0;&#x884C;&#x7684;nova-compute&#x8282;&#x70B9;&#x3002;</h5>
<pre><code>ceph auth get-key client.cinder | ssh {your-compute-node} tee client.cinder.key
</code></pre><h5 id="8&#x3001;&#x7136;&#x540E;&#xFF0C;&#x5728;compute&#x8282;&#x70B9;&#xFF0C;&#x6DFB;&#x52A0;secret-key&#x5230;libvirt&#xFF0C;&#x518D;&#x5220;&#x9664;&#x4E34;&#x65F6;&#x7684;secret-key&#x3002;">8&#x3001;&#x7136;&#x540E;&#xFF0C;&#x5728;compute&#x8282;&#x70B9;&#xFF0C;&#x6DFB;&#x52A0;secret key&#x5230;libvirt&#xFF0C;&#x518D;&#x5220;&#x9664;&#x4E34;&#x65F6;&#x7684;secret key&#x3002;</h5>
<pre><code># &#x4FDD;&#x5B58;uuid&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x7528;&#x5230;
uuidgen
457eb676-33da-42ec-9a8c-9293d545c337

cat &gt; secret.xml &lt;&lt;EOF
&lt;secret ephemeral=&apos;no&apos; private=&apos;no&apos;&gt;
  &lt;uuid&gt;457eb676-33da-42ec-9a8c-9293d545c337&lt;/uuid&gt;
  &lt;usage type=&apos;ceph&apos;&gt;
    &lt;name&gt;client.cinder secret&lt;/name&gt;
  &lt;/usage&gt;
&lt;/secret&gt;
EOF
virsh secret-define --file secret.xml
Secret 457eb676-33da-42ec-9a8c-9293d545c337 created

virsh secret-set-value --secret 457eb676-33da-42ec-9a8c-9293d545c337 --base64 $(cat client.cinder.key) &amp;&amp; rm client.cinder.key secret.xml
</code></pre><h5 id="9&#x3001;&#x4FEE;&#x6539;glance-apiconf&#x3002;">9&#x3001;&#x4FEE;&#x6539;glance-api.conf&#x3002;</h5>
<pre><code>[glance_store]
stores = rbd
default_store = rbd
rbd_store_pool = images
rbd_store_user = glance
rbd_store_ceph_conf = /etc/ceph/ceph.conf
rbd_store_chunk_size = 8
...
# &#x542F;&#x7528;copy-on-write
[DEFAULT]
show_image_direct_url = True
...
[paste_deploy]
flavor = keystone
</code></pre><h5 id="10&#x3001;&#x4FEE;&#x6539;cinderconf&#x3002;">10&#x3001;&#x4FEE;&#x6539;cinder.conf&#x3002;</h5>
<pre><code>[DEFAULT]
...
enabled_backends = ceph
glance_api_version = 2
...
# &#x914D;&#x7F6E;cinder backup
backup_driver = cinder.backup.drivers.ceph
backup_ceph_conf = /etc/ceph/ceph.conf
backup_ceph_user = cinder-backup
backup_ceph_chunk_size = 134217728
backup_ceph_pool = backups
backup_ceph_stripe_unit = 0
backup_ceph_stripe_count = 0
restore_discard_excess_bytes = true
...
[ceph]
volume_driver = cinder.volume.drivers.rbd.RBDDriver
volume_backend_name = ceph
rbd_pool = volumes
rbd_ceph_conf = /etc/ceph/ceph.conf
rbd_flatten_volume_from_snapshot = false
rbd_max_clone_depth = 5
rbd_store_chunk_size = 4
rados_connect_timeout = -1
rbd_user = cinder
rbd_secret_uuid = 457eb676-33da-42ec-9a8c-9293d545c337
</code></pre><h5 id="11&#x3001;&#x914D;&#x7F6E;novaconf&#x5C06;nova&#x6302;&#x8F7D;&#x5230;ceph-rbd&#x5757;&#x8BBE;&#x5907;&#x3002;">11&#x3001;&#x914D;&#x7F6E;nova.conf&#x5C06;nova&#x6302;&#x8F7D;&#x5230;ceph rbd&#x5757;&#x8BBE;&#x5907;&#x3002;</h5>
<pre><code>[libvirt]
...
images_type = rbd
images_rbd_pool = vms
images_rbd_ceph_conf = /etc/ceph/ceph.conf
rbd_user = cinder
rbd_secret_uuid = 457eb676-33da-42ec-9a8c-9293d545c337
disk_cachemodes=&quot;network=writeback&quot;
</code></pre><h5 id="12&#x3001;&#x91CD;&#x542F;&#x670D;&#x52A1;">12&#x3001;&#x91CD;&#x542F;&#x670D;&#x52A1;</h5>
<pre><code>glance-control api restart
service nova-compute restart
service cinder-volume restart
service cinder-backup restart

service openstack-glance-api restart
service openstack-nova-compute restart
service openstack-cinder-volume restart
service openstack-cinder-backup restart
</code></pre><h5 id="13&#x3001;&#x4F7F;&#x7528;&#x5757;&#x8BBE;&#x5907;">13&#x3001;&#x4F7F;&#x7528;&#x5757;&#x8BBE;&#x5907;</h5>
<pre><code>cinder create --image-id {id of image} --display-name {name of volume} {size of volume}

qemu-img convert -f {source-format} -O {output-format} {source-filename} {output-filename}
qemu-img convert -f qcow2 -O raw precise-cloudimg.img precise-cloudimg.raw
</code></pre><h2 id="&#x4E09;&#x3001;&#x4F7F;&#x7528;glance-task-create&#x4E0A;&#x4F20;&#x955C;&#x50CF;&#x5E76;&#x5C06;&#x683C;&#x5F0F;&#x8F6C;&#x4E3A;raw&#x3002;">&#x4E09;&#x3001;&#x4F7F;&#x7528;glance task-create&#x4E0A;&#x4F20;&#x955C;&#x50CF;&#x5E76;&#x5C06;&#x683C;&#x5F0F;&#x8F6C;&#x4E3A;raw&#x3002;</h2>
<h5 id="1&#x3001;&#x7F16;&#x8F91;glance-apiconf&#x3002;">1&#x3001;&#x7F16;&#x8F91;glance-api.conf&#x3002;</h5>
<pre><code>[task]
task_executor = taskflow
work_dir=/tmp

[taskflow_executor]
engine_mode = serial
max_workers = 10
conversion_format=raw
</code></pre><h5 id="2&#x3001;&#x91CD;&#x542F;&#x670D;&#x52A1;">2&#x3001;&#x91CD;&#x542F;&#x670D;&#x52A1;</h5>
<pre><code>glance-control api restart

service openstack-glance-api restart
</code></pre><h5 id="3&#x3001;&#x4E0A;&#x4F20;&#x955C;&#x50CF;">3&#x3001;&#x4E0A;&#x4F20;&#x955C;&#x50CF;</h5>
<pre><code>glance task-create --type import --input &apos;{&quot;import_from_format&quot;: &quot;qcow2&quot;, &quot;import_from&quot;: &quot;http://172.18.20.160/cirros-0.3.4-x86_64-disk.img&quot;, &quot;image_properties&quot;: {&quot;name&quot;: &quot;cirros-RAW&quot;, &quot;disk_format&quot;: &quot;qcow2&quot;, &quot;container_format&quot;: &quot;bare&quot;}}&apos;
</code></pre><h2 id="&#x56DB;&#x3001;&#x79FB;&#x9664;osd&#x3002;">&#x56DB;&#x3001;&#x79FB;&#x9664;osd&#x3002;</h2>
<pre><code>ceph osd tree
ceph osd out osd.0
ceph osd crush rm osd.0
ceph auth del osd.0
ceph osd rm osd.0
</code></pre><h2 id="&#x4E94;&#x3001;&#x6DFB;&#x52A0;mon&#xFF0C;&#x79FB;&#x9664;mon">&#x4E94;&#x3001;&#x6DFB;&#x52A0;mon&#xFF0C;&#x79FB;&#x9664;mon</h2>
<pre><code>ceph-deploy install ctrl
ceph-deploy mon create ctrl 
ceph-deploy mon add ctrl
ceph-deploy mon create-initial
ceph quorum_status --format json-pretty

ceph-deploy mon destroy comp-3
ceph quorum_status --format json-pretty

ceph-deploy gatherkeys comp-1
</code></pre><h2 id="&#x516D;&#x3001;&#x542F;&#x52A8;ceph&#x81EA;&#x5E26;&#x76D1;&#x63A7;&#x754C;&#x9762;">&#x516D;&#x3001;&#x542F;&#x52A8;ceph&#x81EA;&#x5E26;&#x76D1;&#x63A7;&#x754C;&#x9762;</h2>
<pre><code>ceph mgr module enable dashboard
</code></pre><h2 id="&#x4E03;&#x3001;&#x5E38;&#x7528;&#x547D;&#x4EE4;">&#x4E03;&#x3001;&#x5E38;&#x7528;&#x547D;&#x4EE4;</h2>
<pre><code>#&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x6C60;&#x65B9;&#x6CD5;
ceph osd lspools
ceph osd pool ls
ceph osd pool ls detail

#&#x5220;&#x9664;data,metadata&#x6C60;
ceph osd pool delete metadata metadata --yes-i-really-really-mean-it
ceph osd pool delete data data --yes-i-really-really-mean-it

#&#x521B;&#x5EFA; volumes &#x5B58;&#x50A8;&#x6C60;
ceph osd pool create volumes 4000 4000

#&#x67E5;&#x8BE2; volumes &#x6C60;&#x5F53;&#x524D;&#x590D;&#x5236;&#x526F;&#x672C;&#x6570;&#x91CF;
ceph osd dump | grep &apos;replicated size&apos; | grep volumes

#&#x4FEE;&#x6539;&#x590D;&#x5236;&#x526F;&#x672C;&#x4E3A; 2 &#x5E76;&#x9A8C;&#x8BC1;
ceph osd pool set volumes size 2
ceph osd dump | grep &apos;replicated size&apos; | grep volumes

#&#x67E5;&#x770B;&#x5B58;&#x50A8;&#x4F7F;&#x7528;&#x60C5;&#x51B5;
ceph df
</code></pre><h2 id="&#x516B;&#x3001;kolla-&#x4E2D;ceph&#x76F8;&#x5173;">&#x516B;&#x3001;kolla &#x4E2D;ceph&#x76F8;&#x5173;</h2>
<pre><code>parted /dev/xvdb -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP 1 -1

&#x4FEE;&#x6539;globalsl.yaml
enable_ceph: &quot;yes&quot;
ceph_enable_cache: &quot;yes&quot;
ceph_cache_mode: &quot;writeback&quot;

2&#x4E2A;240 &#x56FA;&#x6001;(&#x4E00;&#x4E2A;&#x505A;journal&#xFF0C;&#x4E00;&#x4E2A;&#x505A;cache)

&#x3010;cache&#x3011;
parted /dev/xvdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_CACHE_BOOTSTRAP 1 -1

&#x3010;journal&#x3011;
parted /dev/xvdd \
-s mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDB_J 0% 5G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 5G 10G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 10G 15G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 15G 20G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 20G 25G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 25G 30G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 30G 35G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 35G 40G \
-s mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC_J 40G 45G

9&#x4E2A;2T SATA

parted /dev/vdb -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDB 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
parted /dev/vdc -s -- mklabel gpt mkpart KOLLA_CEPH_OSD_BOOTSTRAP_VDC 1 -1
</code></pre><h2 id="&#x4E5D;&#x3001;&#x5E38;&#x89C1;&#x95EE;&#x9898;">&#x4E5D;&#x3001;&#x5E38;&#x89C1;&#x95EE;&#x9898;</h2>
<h5 id="1&#x3001;&#x65E5;&#x5FD7;&#x76D8;bug">1&#x3001;&#x65E5;&#x5FD7;&#x76D8;bug</h5>
<pre><code>ceph-disk list

vim /usr/lib/python2.7/dist-packages/ceph_disk/main.py

sgdisk --typecode=6:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sda

sgdisk --typecode=1:45b0969e-9b03-4f30-b4c6-b4b80ceff106 -- /dev/ssd

chown -R ceph:ceph /dev/nvme0n1p2

parted /dev/sdg
mklabel        GPT

mkpart cache xfs 0G 380G
mkpart sdb_journal xfs 380G 385G
</code></pre><h5 id="2&#x3001;nopubkey-e84ac2c0460f3994">2&#x3001;NO_PUBKEY E84AC2C0460F3994</h5>
<pre><code>apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E84AC2C0460F3994
</code></pre><h5 id="3&#x3001;-error-error-creating-empty-object-store-in-varlibcephtmpmntblv9da-13-permission-denied">3&#x3001;** ERROR: error creating empty object store in /var/lib/ceph/tmp/mnt.blV9DA: (13) Permission denied</h5>
<pre><code>&#x5C06;ceph&#x96C6;&#x7FA4;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;&#x78C1;&#x76D8;&#x6743;&#x9650;&#xFF0C;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x3001;&#x7528;&#x6237;&#x7EC4;&#x6539;&#x7ED9;ceph

chown ceph:ceph /dev/xvdb
</code></pre><h5 id="4&#x3001;clock-skew-detected-on-monceph-node2-monceph-node3--monitor-clock-skew-detected">4&#x3001;clock skew detected on mon.ceph-node2, mon.ceph-node3  Monitor clock skew detected</h5>
<pre><code>/etc/init.d/ntpd stop

service chrony stop
ntpdate time.nist.gov
service chrony start
</code></pre><h5 id="5&#x3001;-osdscruberrors-1-scrub-errors&#xFF1B;pgdamaged-possible-data-damage-1-pg-inconsistent">5&#x3001; OSD_SCRUB_ERRORS: 1 scrub errors&#xFF1B;PG_DAMAGED: Possible data damage: 1 pg inconsistent</h5>
<pre><code>docker exec ceph_mon sh -c &apos;for i in &quot;`ceph health detail|grep -vE \&quot;(PG_DAMAGED|HEALTH_ERR|OSD_SCRUB_ERRORS)\&quot;|awk \&quot;{print $2}\&quot;`&quot;;do ceph pg repair $i ;done&apos;

for i in `ceph health  detail|grep &apos;active+clean+inconsistent&apos;|awk &apos;{print $2}&apos;`;do ceph pg repair $i ;done
ceph -s
</code></pre><h5 id="6&#x3001;&#x5F80;&#x4E0B;&#x5237;&#x7F13;&#x5B58;">6&#x3001;&#x5F80;&#x4E0B;&#x5237;&#x7F13;&#x5B58;</h5>
<pre><code>rados -p images-cache cache-flush-evict-all
rados -p volumes-cache cache-flush-evict-all
rados -p backups-cache cache-flush-evict-all
rados -p vms-cache cache-flush-evict-all
rados -p gnocchi-cache cache-flush-evict-all
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="ceph_optimize.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Ceph 调优">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Ceph 部署","level":"1.23.1","depth":2,"next":{"title":"Ceph 调优","level":"1.23.2","depth":2,"path":"notes/ceph/ceph_optimize.md","ref":"notes/ceph/ceph_optimize.md","articles":[]},"previous":{"title":"Ceph 相关","level":"1.23","depth":1,"ref":"","articles":[{"title":"Ceph 部署","level":"1.23.1","depth":2,"path":"notes/ceph/ceph_deploy.md","ref":"notes/ceph/ceph_deploy.md","articles":[]},{"title":"Ceph 调优","level":"1.23.2","depth":2,"path":"notes/ceph/ceph_optimize.md","ref":"notes/ceph/ceph_optimize.md","articles":[]},{"title":"crushmap","level":"1.23.3","depth":2,"path":"notes/ceph/crushmap.md","ref":"notes/ceph/crushmap.md","articles":[]},{"title":"ceph.conf","level":"1.23.4","depth":2,"path":"notes/ceph/cephconf.md","ref":"notes/ceph/cephconf.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","-sharing","expandable-chapters","back-to-top-button","code","splitter","pageview-count","page-toc-button","github"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/hlyani"},"splitter":{},"search-pro":{},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"page-toc-button":{"maxTocDepth":"2","minTocSize":"2"},"back-to-top-button":{},"pageview-count":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"hl","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"hl notes","gitbook":"*","description":"record my notes"},"file":{"path":"notes/ceph/ceph_deploy.md","mtime":"2019-11-21T03:06:08.431Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-11-21T03:06:44.164Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

